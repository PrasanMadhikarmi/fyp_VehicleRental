{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vehicle Registration Form</title>
    <link rel="stylesheet" href="{% static 'accounts/vehicleRegistration.css' %}">
    <link rel="stylesheet" type="text/css" href="{%static 'home/index.css'%}">
</head>
<body>
    <div class="nav-bar">
        <div class="nav-logo">
            <h1>
            <span class="highlight">Elite</span>Rental
        </h1></div>
        <div class="nav-link">
            
            <nav>
				<ul>
					<li><a class="active link-href" href="{% url 'home:index' %}">Home</a></li>
					<li><a class="link-href" href="">Cars</a></li>
					<li><a class="link-href" href="">About</a></li>
					<li><a class="link-href" href="">Contact</a></li>
					<li><a class="link-href" href="">FAQ</a></li>
				</ul>
			</nav>
        </div>

		<div class="p-f">
            <div>
            {% if user.is_authenticated %}
				
				<li><a class="link-href" href="">Booking</a></li>
                <li><a class="img-hover link-href"   href=""><img src="{% static 'home/user-24.png' %}" width="20px"></a></li>
                <li><a class="img-hover link-href" href="{% url 'accounts:logout' %}"><img src="{% static 'home/logout-24.png' %}" width="20px"></a></li>
            {% else %}
                <li style="color:yellow;"><a href="{% url 'accounts:loginPage' %}">Login</a></li>
            {% endif %}
            </div>
        </div>
    </div>
    <div class="container">
        <h1>Vehicle Registration Form</h1>
        <form id="vehicleForm" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {% if form.non_field_errors %}
            <div class="alert alert-danger">
                <ul>
                    {% for error in form.non_field_errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}
            <div class="form-row">
                <div class="form-group">
                    <label for="brand">Vehicle Brand:</label>
                    <input type="text" id="brand" name="brand" required>
                    {{ form.brand.errors }}
                </div>
                <div class="form-group">
                    <label for="model">Vehicle Model:</label>
                    <input type="text" id="model" name="model" required>
                    {{ form.model.errors }}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="location">Location:</label>
                    <input type="text" id="location" name="location" required>
                    {{ form.location.errors }}
                </div>
                <div class="form-group">
                    <label for="price">Price per Day ($):</label>
                    <input type="number" id="price" name="price" required>
                    {{ form.price.errors }}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="capacity">Vehicle Capacity:</label>
                    <input type="number" id="capacity" name="capacity" required>
                    {{ form.capacity.errors }}
                </div>
                <div class="form-group">
                    <label for="category">Vehicle Category:</label>
                    <select class="search-input" name="category" id="categorySelect">
                        <option value="" disabled selected>Select Category</option>
                        <option value="car">Car</option>
                        <option value="bike">Bike</option>
                        <option value="cycle">Cycle</option>
                      </select>
                    {{ form.category.errors }}
                </div>
            </div>
            <div class="form-row">

                <div class="form-group">
                    <label for="description">Vehicle Description:</label>
                    <textarea id="description" name="description" required></textarea>
                    {{ form.description.errors }}
                </div>
                <div class="form-group">
                    <label for="description">Vehicle Subcategory:</label>
                    <div class="search-column"   id="subcategoryColumn">
                        <div class="search-dropdown">
                          <select class="search-input" name="subcategory" id="subcategorySelect">
                            <option value="" disabled selected>Select Subcategory</option>
                          </select>
                        </div>
                      </div>
                    {{ form.subcategory.errors }}
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="image1">Vehicle Image 1:</label>
                    <input type="file" id="image1" name="image1" accept="image/*">
                    {{ form.image1.errors }}
                </div>
                <div class="form-group">
                    <label for="image2">Vehicle Image 2:</label>
                    <input type="file" id="image2" name="image2" accept="image/*">
                    {{ form.image2.errors }}
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="image3">Vehicle Image 3:</label>
                    <input type="file" id="image3" name="image3" accept="image/*">
                    {{ form.image3.errors }}
                </div>
                <div class="form-group">
                    <label for="image4">Vehicle Image 4:</label>
                    <input type="file" id="image4" name="image4" accept="image/*">
                    {{ form.image4.errors }}
                </div>
            </div>
            <div class="form-group">
                <label for="image5">Vehicle Image 5:</label>
                <input type="file" id="image5" name="image5" accept="image/*">
                {{ form.image5.errors }}
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="image1">Vehicle Bluebook:</label>
                    <input type="file" id="image6" name="bluebookimg" accept="image/*">
                    {{ form.image6.errors }}
                </div>
                <div class="form-group">
                    <label for="image2">Owner's citizenship</label>
                    <input type="file" id="image7" name="citizenimg" accept="image/*">
                    {{ form.image7.errors }}
                </div>
            </div>
            <div class="form-group">
                <button type="submit">Submit</button>
            </div>
        </form>
    </div>
    <script>
        const categorySelect = document.getElementById('categorySelect');
        const subcategoryColumn = document.getElementById('subcategoryColumn');
        const subcategorySelect = document.getElementById('subcategorySelect');
    
        const subcategories = {
          car: ['Sedan', 'SUV', 'Electric'],
          bike: ['Sports', 'Naked', 'Offroad'],
          cycle: ['Mountain Bike', 'BMX', 'Electric'],
        };
    
        categorySelect.addEventListener('change', () => {
          const selectedCategory = categorySelect.value;
          if (selectedCategory in subcategories) {
            subcategoryColumn.style.display = 'block';
            subcategorySelect.innerHTML = '<option value="" disabled selected>Select Subcategory</option>';
            subcategories[selectedCategory].forEach(subcategory => {
              const option = document.createElement('option');
              option.value = subcategory.toLowerCase();
              option.textContent = subcategory;
              subcategorySelect.appendChild(option);
            });
          } else {
            subcategoryColumn.style.display = 'none';
          }
        });
        </script>
</body>
</html>
    